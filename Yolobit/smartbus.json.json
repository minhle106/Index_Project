{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"z7i|T(~m}v3u,w-30Tzm\">cảm biến khoảng cách</variable><variable id=\"u_4iCPjy=]#Fw{)jbFqm\">temperature</variable><variable id=\"K*T/irc0th=n0K#$j-sn\">kc</variable></variables><block type=\"procedures_defnoreturn\" id=\"s{#zG;_l-:u33?lOy60^\" x=\"-762\" y=\"-937\"><field name=\"NAME\">kiểm tra nhiệt độ</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_lcd1602_display\" id=\"cTLuJwz`kgu@Bg,EI:Z]\"><value name=\"string\"><shadow type=\"text\" id=\"hX{|=[98A,P6/YcE4t:O\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"pw.g?yS`=JR5Qy}a=;!3\"><field name=\"VAR\" id=\"u_4iCPjy=]#Fw{)jbFqm\">temperature</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"Ir?}Na^A#xQ3yWdNi=_/\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"uK0980/__u^pRRwst?xH\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"controls_if\" id=\"g`q$4Ld9!Ujegl0|8sy|\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"I|{Dl6i{9T}py._Wq]z_\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"!@xF3@poE)!T[L[!8I,e\"><field name=\"VAR\" id=\"u_4iCPjy=]#Fw{)jbFqm\">temperature</field></block></value><value name=\"B\"><block type=\"math_number\" id=\";zNRu2scyzn=ISa~+Zd@\"><field name=\"NUM\">30</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_lcd1602_clear\" id=\"RJO(fX{lkp?xa7KRNL5F\"><next><block type=\"homebit3_alarm\" id=\"O%Uu,MdpUon-]BO{vJvb\"><next><block type=\"aiot_lcd1602_display\" id=\"(pA)j33J%Ru#bscDl1L/\"><value name=\"string\"><shadow type=\"text\" id=\"@nsC`7lMnzHJsISJ-~CN\"><field name=\"TEXT\">WARNING</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"S8.+T3At~GgxPAkt2?=v\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"8J?Wb9K#LjXz=-QFap1p\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"O^9xq?UTLf%@=CaFA2!^\"><value name=\"string\"><shadow type=\"text\" id=\"qD3oR7Ow)M]Gm2toA/7e\"><field name=\"TEXT\">NORMAL</field></shadow><block type=\"variables_get\" id=\"PUv9,fL!vA,ySt$ogGDs\"><field name=\"VAR\" id=\"u_4iCPjy=]#Fw{)jbFqm\">temperature</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"k=*^)R.}HVkHd1C,XaP(\"><field name=\"NUM\">10</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"y+?]=|[H0P^.KAw~?[:@\"><field name=\"NUM\">12</field></shadow></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"aiot_lcd1602_display\" id=\"WT8DOu3GKDY2.zjqXqkc\"><value name=\"string\"><shadow type=\"text\" id=\"riMQYFm96^*4j)}/,KXM\"><field name=\"TEXT\">NORMAL</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"K0V~WkvgrZpv#91C!cp;\"><field name=\"NUM\">7</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"EA%C`zU|G]50M*]W~KAh\"><field name=\"NUM\">12</field></shadow></value><next><block type=\"aiot_lcd1602_clear\" id=\":;dmZ0X|e^4fQp(2(S`x\"></block></next></block></statement></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"^^[+KI2f,wA6,mZ.*iad\" x=\"187\" y=\"-838\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"ow@lC]Cp@8oea8N3IgwE\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_dht_measure\" id=\"Fcpnn!p$v;9N*Q4hkn9/\"><next><block type=\"variables_set\" id=\"vyBy$C5tZMY+R;P2sAYy\"><field name=\"VAR\" id=\"u_4iCPjy=]#Fw{)jbFqm\">temperature</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"~EyhhG|{T][r#=~UQdzy\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"yolobit_basic_scroll_text\" id=\"=Whr}8MeuaPVvXkYl$tz\"><value name=\"message\"><shadow type=\"text\" id=\"E!j$XIPQSV^L4yF-xab#\"><field name=\"TEXT\">Hello, World!</field></shadow><block type=\"text_join\" id=\"1+(,+wKtawZIJmj%E+tv\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"FX.vp?%)Gv)+1t,N(1C~\"><field name=\"VAR\" id=\"u_4iCPjy=]#Fw{)jbFqm\">temperature</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"b)Z6e}`z)P30/t{WTfKH\"><field name=\"TEXT\">*C</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"BmGJW84DD10pSiid)jWi\"><mutation name=\"kiểm tra nhiệt độ\"></mutation></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"{{$Na}.YI/8s(gb]R^^`\" x=\"-62\" y=\"-638\"><statement name=\"FOREVER\"><block type=\"yolobit_basic_sleep\" id=\"ne:pXwN+7,*a48j9g27C\"><value name=\"duration\"><shadow type=\"math_number\" id=\"e=J5Ze]w4qrTJ(jC^B[l\"><field name=\"NUM\">1000</field></shadow></value><next><block type=\"yolobit_events_run\" id=\"t64YVe/M`..wxMWi^$D_\"></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"{ZAN[-#^mVsV`Sa_p$Jz\" x=\"-762\" y=\"-538\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"p=juXKB#8JqKd6|!Mc9i\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"ultrasonic_create\" id=\"w53bUINMh.bG^h@A`)D.\"><field name=\"ultrasonic_sensor\" id=\"z7i|T(~m}v3u,w-30Tzm\">cảm biến khoảng cách</field><field name=\"TRG\">pin14</field><field name=\"ECH\">pin15</field><next><block type=\"variables_set\" id=\"3u*L~{(@$/BD4cr%zC}@\"><field name=\"VAR\" id=\"K*T/irc0th=n0K#$j-sn\">kc</field><value name=\"VALUE\"><block type=\"ultrasonic_read\" id=\"GUePucI]J*ccV*rsX-w+\"><field name=\"ultrasonic_sensor\" id=\"z7i|T(~m}v3u,w-30Tzm\">cảm biến khoảng cách</field><field name=\"TYPE\">CM</field></block></value><next><block type=\"controls_if\" id=\"~jaGTYQUM)odC`_)nMdd\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"ultrasonic_checkdistance\" id=\"i@~}gv~o_,iRyL.HOcLg\"><field name=\"ultrasonic_sensor\" id=\"z7i|T(~m}v3u,w-30Tzm\">cảm biến khoảng cách</field><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\"vMhH@=ms|fhV{_O[a,G)\"><field name=\"NUM\">9</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"aiot_lcd1602_clear\" id=\")HY$1NoZBg.x!:M8jeFY\"><next><block type=\"homebit3_alarm\" id=\"*d+91g!5d0d1/4L4PI,L\"><next><block type=\"aiot_lcd1602_display\" id=\"mUi|]`2y-ii~swE+%YH6\"><value name=\"string\"><shadow type=\"text\" id=\"y3Dlq/#W-e]!ih_r)kYr\"><field name=\"TEXT\">WARNING</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"sS/+Tk{Zfkg|S^h~o)6P\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\")gfGOB;YIw|oz[N]ymMr\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"aiot_lcd1602_display\" id=\"WXTo~;];RxiHpR*wkU8F\"><value name=\"string\"><shadow type=\"text\" id=\"*n.:oeI;+X~u#XGZ;BFc\"><field name=\"TEXT\">NORMAL</field></shadow><block type=\"variables_get\" id=\"eF{Oa6Y2jgZ.!Cx`+nng\"><field name=\"VAR\" id=\"K*T/irc0th=n0K#$j-sn\">kc</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"_hH7IwbTRQa+]DF[Oy*F\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"^Lfs{B+2:h|qk3hJ7OGt\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"rz|0VA;dS+7MBCExzIt,\" x=\"-138\" y=\"-388\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"V:F1R^9PD;S#,lofl0/F\"><field name=\"NUM\">2</field></shadow></value><statement name=\"ACTION\"><block type=\"text_print\" id=\"7TI!2l@rG:#b/PX9+c9B\"><value name=\"TEXT\"><shadow type=\"text\" id=\")Y(YkEyckKiY9DRkZ_Sv\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" id=\"i_wT!;G^$RrNdAM1T?hw\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"vX`{{u%3F`k}MkZ=s.Y{\"><field name=\"TEXT\">!temperature:</field></block></value><value name=\"ADD1\"><block type=\"text_join\" id=\"V,{ho}wEXdVz~[5cr`W-\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"`d*JKKCY[Nkbja~2bn(s\"><field name=\"VAR\" id=\"u_4iCPjy=]#Fw{)jbFqm\">temperature</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"wB%iheLU-{{jautbKRWn\"><field name=\"TEXT\">#</field></block></value></block></value></block></value><next><block type=\"text_print\" id=\"~Z${GDGe0$g|q[jXbXbY\"><value name=\"TEXT\"><shadow type=\"text\" id=\")Y(YkEyckKiY9DRkZ_Sv\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" id=\"}Erno|)rY9q%*f%wAJ_y\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"w2G@v]D1y?I^}@)9gup4\"><field name=\"TEXT\">!KC</field></block></value><value name=\"ADD1\"><block type=\"text_join\" id=\"rLOIX6.)jS;Nyc;UJI3i\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"W{b#(-Z81(N7Yu9SnyfJ\"><field name=\"VAR\" id=\"K*T/irc0th=n0K#$j-sn\">kc</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"N!+EQ%dOv{CaeLvTU2tA\"><field name=\"TEXT\">#</field></block></value></block></value></block></value></block></next></block></statement></block></xml>","python":"from aiot_lcd1602 import LCD1602\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nimport music\nfrom event_manager import *\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nimport time\nfrom hcsr04 import HCSR04\n\naiot_lcd1602 = LCD1602()\n\ndef sound_alarm():\n  for count in range(5):\n    music.play(['A5:1'], wait=True)\n    music.play(['E5:1'], wait=True)\n\n# Mô tả hàm này...\ndef ki_E1_BB_83m_tra_nhi_E1_BB_87t__C4_91_E1_BB_99():\n  global c_E1_BA_A3m_bi_E1_BA_BFn_kho_E1_BA_A3ng_c_C3_A1ch, temperature, kc, aiot_lcd1602, aiot_dht20\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr(temperature)\n  if temperature > 30:\n    aiot_lcd1602.clear()\n    sound_alarm()\n    aiot_lcd1602.move_to(0, 0)\n    aiot_lcd1602.putstr('WARNING')\n    aiot_lcd1602.move_to(10, 12)\n    aiot_lcd1602.putstr(temperature)\n  else:\n    aiot_lcd1602.move_to(7, 12)\n    aiot_lcd1602.putstr('NORMAL')\n    aiot_lcd1602.clear()\n\nevent_manager.reset()\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\ndef on_event_timer_callback_K_I_f_w_A():\n  global c_E1_BA_A3m_bi_E1_BA_BFn_kho_E1_BA_A3ng_c_C3_A1ch, temperature, kc\n  aiot_dht20.read_dht20()\n  temperature = aiot_dht20.dht20_temperature()\n  display.scroll((str(temperature) + '*C'))\n  ki_E1_BB_83m_tra_nhi_E1_BB_87t__C4_91_E1_BB_99()\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_K_I_f_w_A)\n\ndef on_event_timer_callback_Z_A_N_m_V():\n  global c_E1_BA_A3m_bi_E1_BA_BFn_kho_E1_BA_A3ng_c_C3_A1ch, temperature, kc\n  z7i_7CT__m_7Dv3u_w_30Tzm = HCSR04(trigger_pin=pin14.pin, echo_pin=pin15.pin)\n  kc = z7i_7CT__m_7Dv3u_w_30Tzm.distance_cm()\n  if z7i_7CT__m_7Dv3u_w_30Tzm.distance_cm() < 9:\n    aiot_lcd1602.clear()\n    sound_alarm()\n    aiot_lcd1602.move_to(0, 0)\n    aiot_lcd1602.putstr('WARNING')\n  else:\n    aiot_lcd1602.move_to(0, 0)\n    aiot_lcd1602.putstr(kc)\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_Z_A_N_m_V)\n\ndef on_event_timer_callback_r_z_V_A_d():\n  global c_E1_BA_A3m_bi_E1_BA_BFn_kho_E1_BA_A3ng_c_C3_A1ch, temperature, kc\n  print('!temperature:' + str(str(temperature) + '#'))\n  print('!KC' + str(str(kc) + '#'))\n\nevent_manager.add_timer_event(2000, on_event_timer_callback_r_z_V_A_d)\n\nwhile True:\n  time.sleep_ms(1000)\n  event_manager.run()\n","name":"hello","extensions":[{"id":"yolobit-vanminh0910-yolobit_ultrasonic","src":"https://github.com/vanminh0910/yolobit_ultrasonic","name":"Cảm biến khoảng cách","description":"Mục mở rộng cho cảm biến siêu âm đo khoảng cách"},{"id":"yolobit-vanminh0910-yolobit_ultrasonic","src":"https://github.com/vanminh0910/yolobit_ultrasonic","name":"Cảm biến khoảng cách","description":"Mục mở rộng cho cảm biến siêu âm đo khoảng cách"},{"id":"yolobit-vanminh0910-yolobit_ultrasonic","src":"https://github.com/vanminh0910/yolobit_ultrasonic","name":"Cảm biến khoảng cách","description":"Mục mở rộng cho cảm biến siêu âm đo khoảng cách"},{"id":"yolobit-AITT-VN-yolobit_homebit_v3","src":"https://github.com/AITT-VN/yolobit_homebit_v3","name":"HOME:BIT V3","description":"Mục mở rộng dành cho bộ kit nhà thông minh version 3"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"}],"device":"yolobit"}